set (autostart ${WPEFRAMEWORK_PLUGIN_COMPOSITOR_AUTOSTART})

map()
    if (WPEFRAMEWORK_PLUGIN_COMPOSITOR_MEMORY_GFX)
        kv(gfx ${WPEFRAMEWORK_PLUGIN_COMPOSITOR_MEMORY_GFX})
    endif (WPEFRAMEWORK_PLUGIN_COMPOSITOR_MEMORY_GFX)
    if (WPEFRAMEWORK_PLUGIN_COMPOSITOR_MEMORY_GFX2)
        kv(gfx2 ${WPEFRAMEWORK_PLUGIN_COMPOSITOR_MEMORY_GFX2})
    endif (WPEFRAMEWORK_PLUGIN_COMPOSITOR_MEMORY_GFX2)   
    if (WPEFRAMEWORK_PLUGIN_COMPOSITOR_MEMORY_RESTRICTED)
        kv(restricted ${WPEFRAMEWORK_PLUGIN_COMPOSITOR_MEMORY_RESTRICTED})
    endif (WPEFRAMEWORK_PLUGIN_COMPOSITOR_MEMORY_RESTRICTED)   
    if (WPEFRAMEWORK_PLUGIN_COMPOSITOR_MEMORY_MAIN)
        kv(main ${WPEFRAMEWORK_PLUGIN_COMPOSITOR_MEMORY_MAIN})
    endif (WPEFRAMEWORK_PLUGIN_COMPOSITOR_MEMORY_MAIN)
    if (WPEFRAMEWORK_PLUGIN_COMPOSITOR_MEMORY_EXPORT)
        kv(export ${WPEFRAMEWORK_PLUGIN_COMPOSITOR_MEMORY_EXPORT})
    endif (WPEFRAMEWORK_PLUGIN_COMPOSITOR_MEMORY_EXPORT)   
    if (WPEFRAMEWORK_PLUGIN_COMPOSITOR_MEMORY_SECURE_GFX)
        kv(secureGFX ${WPEFRAMEWORK_PLUGIN_COMPOSITOR_MEMORY_SECURE_GFX})
    endif (WPEFRAMEWORK_PLUGIN_COMPOSITOR_MEMORY_SECURE_GFX)   
    if (WPEFRAMEWORK_PLUGIN_COMPOSITOR_MEMORY_CLIENT)
        kv(client ${WPEFRAMEWORK_PLUGIN_COMPOSITOR_MEMORY_CLIENT})
    endif (WPEFRAMEWORK_PLUGIN_COMPOSITOR_MEMORY_CLIENT)
end()
ans(memory_settings)

map()
    kv(outofprocess true)
    kv(locator ${WPEFRAMEWORK_PLUGIN_COMPOSITOR_IMPLEMENTATION_LIB})
end()
ans(outofprocess)

map()
    kv(width 1920)
    kv(height 1080)
    if (WPEFRAMEWORK_PLUGIN_COMPOSITOR_ALLOW_UNAUTHENTICATED_CLIENTS)
        kv(authentication true)
    endif(WPEFRAMEWORK_PLUGIN_COMPOSITOR_ALLOW_UNAUTHENTICATED_CLIENTS)

    if (${WPEFRAMEWORK_PLUGIN_COMPOSITOR_IMPLEMENTATION} STREQUAL "Wayland")
        kv(display "wayland-0")
        kv(renderer "/usr/lib/libwesteros_render_gl.so")
        kv(workdir "/tmp/wayland")
    endif ()

    if (${WPEFRAMEWORK_PLUGIN_COMPOSITOR_HARDWAREREADY} GREATER 0)
        kv(hardwareready ${WPEFRAMEWORK_PLUGIN_COMPOSITOR_HARDWAREREADY})
    endif ()

    if (WPEFRAMEWORK_PLUGIN_COMPOSITOR_BOXMODE)
        kv(boxmode ${WPEFRAMEWORK_PLUGIN_COMPOSITOR_BOXMODE})
    endif(WPEFRAMEWORK_PLUGIN_COMPOSITOR_BOXMODE)

    if (WPEFRAMEWORK_PLUGIN_COMPOSITOR_AUTHENTICATION)
        kv(authentication ${WPEFRAMEWORK_PLUGIN_COMPOSITOR_AUTHENTICATION})
    endif(WPEFRAMEWORK_PLUGIN_COMPOSITOR_AUTHENTICATION)

    if (WPEFRAMEWORK_PLUGIN_COMPOSITOR_SVP)
        kv(svp ${WPEFRAMEWORK_PLUGIN_COMPOSITOR_SVP})
    endif(WPEFRAMEWORK_PLUGIN_COMPOSITOR_SVP)

    if (WPEFRAMEWORK_PLUGIN_COMPOSITOR_SAGE_PATH)
        kv(sagepath ${WPEFRAMEWORK_PLUGIN_COMPOSITOR_SAGE_PATH})
    endif(WPEFRAMEWORK_PLUGIN_COMPOSITOR_SAGE_PATH)

end()
ans(configuration)

map_append(${configuration} root ${outofprocess})
map_append(${configuration} memory ${memory_settings})
map_append(${PLUGIN_CONFIG} configuration ${configuration})
